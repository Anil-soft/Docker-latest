ğŸ”§ Docker Restart Policies & Their Meaning

  ğŸ“Œ How to Set Restart Policies?
You specify a restart policy when running a container using the --restart flag.

âœ… 1. Default Behavior (no)
By default, if you donâ€™t specify a restart policy, the container wonâ€™t restart after it stops.
  docker run -d my_container

ğŸ”¹ If the container crashes or you stop it, it wonâ€™t restart automatically.
  
âœ… 2. Always Restart the Container (always)
ğŸ”¹ When does it restart?
Restarts even after manual stops (docker stop).
Restarts on system reboot.
ğŸ”¹ Best for:
Running critical services like databases, web servers (e.g., MySQL, Nginx).
  docker run -d --restart always my_container

âœ… 3. Restart Only on Failure (on-failure)
  ğŸ”¹ When does it restart?
âœ… Restarts only if the container crashes (exits with a non-zero code).
âŒ Does NOT restart if you manually stop it (docker stop).
ğŸ”¹ Best for:
Applications that may crash but should not restart after manual stops.
Example: A server that may crash due to a temporary issue but shouldn't restart if you stop it intentionally.
docker run -d --restart on-failure my_container
ğŸ‘‰ Limit the number of retries:
 docker run -d --restart on-failure:3 my_container

âœ… 4. Restart Unless Stopped (unless-stopped)
   ğŸ”¹ When does it restart?
âœ… Restarts on crashes and system reboot.
âŒ Does NOT restart if you manually stopped it (docker stop).
ğŸ”¹ Best for:
Services that should always run unless the user explicitly stops them.
Example: A Node.js API server that you want to restart after reboots but not if you manually stopped it.
docker run -d --restart unless-stopped my_container
